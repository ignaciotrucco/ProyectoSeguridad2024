@{
    ViewData["Title"] = "Personas";
}

<link rel="stylesheet" href="~/css/abm.css" asp-append-version="true" />

<div class="card m-4">
    <div class="card-body">
        <div class="container mt-3">
            <div class="row">
                <div class="col-auto me-auto">
                    <h1 class="display-5 hover-icon">Personas <i class="fas fa-user-plus icon"></i></h1>
                </div>
                <div class="col-auto">
                    <div class="input-group mt-3">
                        <span class="input-group-text" id="basic-addon1"><i class="fa-regular fa-user"></i></span>
                        <input type="text" class="form-control inputBusqueda" placeholder="Buscar por nombre..." aria-label="Username"
                            aria-describedby="basic-addon1">
                    </div>
                </div>
            </div>
        </div>

        <hr>

        <div class="row mt-3" id="cbody-personas"></div>
    </div>
</div>

@* <div class="container mt-3">
<div class="row">
<div class="col-auto me-auto">
<h1 class="display-4 hover-icon">Personas <i class="fas fa-user-plus icon"></i></h1>
</div>
</div>
</div> *@



<!-- Modal -->
<div class="modal fade" id="modalPersonas" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
    id="staticBackdrop" data-bs-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="tituloModal"></h5>
                @* <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                onclick="LimpiarModal()"></button> *@
            </div>
            <div class="modal-body">
                <div class="row">
                    <form>
                        <div class="row mb-2">
                            <div class="col-md-12">
                                <input type="hidden" id="PersonaID">
                                <label for="Nombre" class="form-label">Nombre Completo</label>
                                <input type="text" class="form-control" id="Nombre" maxlength="50"
                                    style="text-transform:uppercase">
                                    <span id="nombrePersonaError" class="textoError"></span>
                            </div>
                            <hr style="color: rgb(46, 46, 46);">
                            <div class="col-md-6">
                                <label for="Domicilio" class="form-label">Domicilio</label>
                                <input type="text" class="form-control" id="Domicilio" maxlength="50" style="text-transform:uppercase">>
                                <span id="domicilioPersonaError" class="textoError"></span>
                            </div>
                            <div class="col-md-2">
                                <label for="TipoDocumentoID" class="form-label">Tipo Doc.</label>
                                @Html.DropDownList("TipoDocumentoID", null, htmlAttributes: new
                                    {
                                        @class =
                                         "form-control"
                                    });
                                    <span id="tipoDocPersonaError" class="textoError"></span>
                            </div>                             
                            <div class="col-md-4">
                                <label for="NroDoc" class="form-label">Número de Documento</label>
                                <input type="number" class="form-control" id="NroDoc">
                                <span id="nroDocPersonaError" class="textoError"></span>
                            </div>
                            <hr style="color: rgb(46, 46, 46);">
                            <div class="col-md-3">
                                <label for="FechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                                <input type="datetime-local" id="FechaNacimiento" class="form-control">
                                <span id="fechaPersonaError" class="textoError"></span>
                            </div>
                            <div class="col-md-4">
                                <label for="Telefono" class="form-label">Numero de Télefono</label>
                                <input type="tel" class="form-control" id="Telefono">
                                <span id="telefonoPersonaError" class="textoError"></span>
                            </div>
                            <div class="col-md-5">
                                <label for="Email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="Email">
                                <span id="emailPersonaError" class="textoError"></span>
                            </div>
                            <hr style="color: rgb(46, 46, 46);">
                            <div class="col-md-6">
                                <label for="ProvinciaID" class="form-label">Provincia</label>
                                @Html.DropDownList("ProvinciaID", null, htmlAttributes: new { @class = "form-control" })
                            </div>
                            <div class="col-md-6">
                                <label for="LocalidadID" class="form-label">Localidad</label>
                                @Html.DropDownList("LocalidadID", null, htmlAttributes: new { @class = "form-control" })
                            </div>
                            <hr style="color: rgb(46, 46, 46);">
                            <div class="col-md-6">
                                <label for="UsuarioID" class="form-label">Elige el usuario de esta persona</label>
                                @Html.DropDownList("UsuarioID", null, htmlAttributes: new
                                    {
                                        @class =
                                         "form-control",
                                        @id = "UsuarioID"
                                    })
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btnGuardar" onclick="GuardarPersona()">Guardar</button>
                <button type="button" class="btn btnCancelar" data-bs-dismiss="modal"
                    onclick="LimpiarModal()">Cancelar</button>
            </div>
        </div>
    </div>
</div>

@* <table class="table table-striped mt-3">
<thead>
<tr>
<th style="text-align: center">Nombre</th>
<th style="text-align: center">Apellido</th>
<th style="text-align: center">Tipo Documento</th>
<th style="text-align: center">N° Documento</th>
<th scope="col" style="text-align: center">Telefono</th>
<th scope="col" style="text-align: center">Email</th>
<th scope="col" style="text-align: center">Domicilio</th>
<th scope="col" style="text-align: center">Localidad</th>
<th scope="col"></th>
<th scope="col"></th>
</tr>
</thead>
<tbody id="tbody-personas"></tbody>
</table> *@

@* <div class="row mt-3" id="cbody-personas"></div> *@

<!-- Button trigger modal -->
<div class="btnAgregar">
    <button type="button" class="btn btn-secondary btn-circle btn-lg" title="Agregar" data-bs-toggle="modal"
        data-bs-target="#modalPersonas" data-bs-target="#staticBackdrop" onclick="NuevaPersona()">
        <i class="fa-solid fa-plus"></i> Nueva Persona
    </button>
</div>

@section Scripts {
    <script src="~/js/personas-1.0.0.js"></script>
}